/*! houdinijs v11.0.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/houdini */
!(function(t,e){"function"==typeof define&&define.amd?define([],(function(){return e(t)})):"object"==typeof exports?module.exports=e(t):t.Houdini=e(t)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,(function(r){"use strict";var o={contentClass:"houdini",expanded:!1,expandedClass:"is-expanded",btnAfter:!1,btnClass:"houdini-toggle",btnAttribute:"data-houdini-toggle",btnTextAttribute:"data-houdini-button",btnLabelAttribute:"data-houdini-label",btnPreExisting:"data-houdini-button-preexisting",isAccordion:!1,collapseOthers:!1,headingClass:"houdini-heading",icon:-1,iconClass:"houdini-toggle-icon",iconAttribute:"data-houdini-icon",iconShow:"+",iconHide:"&ndash;",emitEvents:!0},a=function(t,e,n){if(e.emitEvents&&"function"==typeof r.CustomEvent){var i=new CustomEvent(t,{bubbles:!0,detail:n});n.content?n.content.dispatchEvent(i):document.dispatchEvent(i)}},n=function(t,e){var n=t.getAttribute(e.btnTextAttribute),i=t.classList.contains(e.expandedClass),r=t.getAttribute(e.btnLabelAttribute),o=(function(t,e){var n=document.querySelector("["+e.btnAttribute+'="'+t.id+'"]');if(n)return n.removeAttribute("hidden"),"a"===n.tagName.toLowerCase()&&n.setAttribute("role","button"),n.setAttribute(e.btnPreexisting,"true"),n})(t,e),a=o||document.createElement("button");if(!o){if(!n||n.length<1)return;a.textContent=n}a.setAttribute(e.btnAttribute,t.id),a.className=e.btnClass;return e.icon&&(a.innerHTML+='<span class="'+e.iconClass+'" '+e.iconAttribute+">"+(i?e.iconHide:e.iconShow)+"</span>"),a.setAttribute("aria-expanded",i),r&&a.setAttribute("aria-label",r),o||t.parentNode.insertBefore(a,e.btnAfter?t.nextSibling:t),a},s=function(t,e){return e.isAccordion?(function(t,e){var n=document.querySelector("["+e.btnAttribute+'="'+t.id+'"]');if(n){var i=t.classList.contains(e.expandedClass);n.classList.add(e.headingClass),n.removeAttribute(e.btnAttribute);var r="";return e.icon&&(r='<span class="'+e.iconClass+'" '+e.iconAttribute+">"+(i?e.iconHide:e.iconShow)+"</span>"),n.innerHTML='<button class="'+e.btnClass+'" '+e.btnAttribute+'="'+t.id+'" aria-expanded="'+!!i+'">'+n.innerHTML+r+"</button>",n}})(t,e):n(t,e)},u=function(t,e){var n,i,r;e.isAccordion?(function(t,e){var n=document.querySelector("["+e.btnAttribute+'="'+t.id+'"]');if(n){i.classList.remove(e.headingClass),n.parentNode.setAttribute(e.btnAttribute,t.id);var i=n.cloneNode(!0),r=i.querySelector("["+e.iconAttribute+"]");r&&i.removeChild(r),n.parentNode.innerHTML=i.innerHTML}})(t,e):(n=t,i=e,(r=document.querySelector("["+i.btnAttribute+'="'+n.id+'"]'))&&(r.hasAttribute(i.btnPreexisting)?r.setAttribute("hidden","hidden"):r.parentNode.removeChild(r)))},c=function(t,e,n){!(function(t,e){t.setAttribute("aria-expanded","false"),t.removeAttribute("aria-controls");var n=t.querySelector("["+e.iconAttribute+"]");n&&(n.innerHTML=e.iconShow)})(t,n),e.classList.remove(n.expandedClass),a("houdiniCollapse",n,{button:t,content:e})},d=function(t,e,n,i){i.isAccordion&&i.collapseOthers&&Array.prototype.forEach.call(document.querySelectorAll(n+"."+i.expandedClass),(function(t){var e=document.querySelector("["+i.btnAttribute+'="'+t.id+'"]');c(e,t,i)}))},l=function(t,e,n){!(function(t,e,n){t.setAttribute("aria-expanded",!0),t.setAttribute("aria-controls",e.id);var i=t.querySelector("["+n.iconAttribute+"]");i&&(i.innerHTML=n.iconHide)})(t,e,n),e.classList.add(n.expandedClass),n.btnAfter&&!n.isAccordion&&e.focus(),a("houdiniExpand",n,{button:t,content:e})},b=function(t,e,n,i){var r=t.getAttribute("aria-expanded"),o=document.querySelector("#"+t.getAttribute(n.btnAttribute));o&&o.matches(e)&&(i&&i.preventDefault(),"true"==r?c(t,o,n):(d(0,0,e,n),l(t,o,n)))},f=function(t,e){var n;return"string"==typeof t&&(n=document.querySelector(t)),n&&n.matches("["+e+"]")&&(n=document.querySelector("#"+n.getAttribute(e))),n},A=function(t,e,n){var i;return"string"==typeof t&&(i=document.querySelector(t)),i&&i.matches(e)&&(i=document.querySelector("["+n.btnAttribute+'="'+i.id+'"]')),i};return function(i,t){var r,e={};e.toggle=function(t){b(A(t,i,r),i,r)},e.expand=function(t){l(A(t,i,r),f(t,r.btnAttribute),r)},e.collapse=function(t){var e=A(t,i,r),n=f(t,r.btnAttribute);d(0,0,i,r),c(e,n,r)},e.setup=function(){Array.prototype.forEach.call(document.querySelectorAll(i),(function(t){t.classList.contains(r.contentClass)||s(t,r)&&(t.classList.add(r.contentClass),t.classList.contains(r.expandedClass)&&r.expandedOnInit.push(t.id),r.btnAfter&&!t.getAttribute("tabindex")&&t.setAttribute("tabindex",-1),r.expanded&&t.classList.add(r.expandedClass))})),a("houdiniSetup",r,{settings:r})};var n=function(t){var e=t.target.closest("["+r.btnAttribute+"]");e&&b(e,i,r,t)};e.destroy=function(){var t,e;document.removeEventListener("click",n,!1),t=i,e=r,Array.prototype.forEach.call(document.querySelectorAll(t),(function(t){u(t,e),t.classList.remove(e.contentClass),e.expandedOnInit.indexOf(t.id)<0?t.classList.remove(e.expandedClass):t.classList.add(e.expandedClass)})),a("houdiniDestroy",r,{settings:r}),r=null};return(r=(function(){var n={};return Array.prototype.forEach.call(arguments,(function(t){for(var e in t){if(!t.hasOwnProperty(e))return;n[e]=t[e]}})),n})(o,t||{})).expandedOnInit=[],r.icon<0&&(r.icon=r.isAccordion),e.setup(),document.addEventListener("click",n,!1),a("houdiniInitialize",r,{settings:r}),e}}));